# WebTest
## Веб-приложение на Golang + MongoDB.  
#### Неавторизированный пользователь
Может:
- посещать главную страницу;  
- посещать страницу регистрации;
- посещать страницу авторизации.  
  
Не может:
- просматривать список всех пользователей;
- использовать ссылку Logout для выход из учетной записи;
- посещать страницу смены данных;
- посещать страницу смены пароль;
- удалить свой аккаунт(логично).  
  
При посещении страниц, к которым у неавторизированного пользователя закрыт доступ, он будет перемещен на главную страницу.  
  
При посещении каждой страницы у любого пользователя проверяется его токен. Сначала проверяется токен в Cookie, затем проверяется нахождение этого токена в базе, дальше находится хозяин токена в базе всех пользователей. Если все удачно, то возвращается объект токена.  
  
На каждой странице, где нужно вводить данные в input предусмотрена валидация отправленных данных на стороне сервера.  

#### Авторизированный пользователь   
Может:
- просматривать список всех пользователей;
- изменять только свои данные;
- изменить толькой свой пароль;
- удалить свой аккаунт безвозвратно;
- посещать главную страницу;
- выйти из учетной записи.  
  
Не может:
- посещать страницу регистрации;
- посещать страницу авторизации.  
  
При авторизации пользователя сначала происходит поиск его же в базе пользователей, после чего сравнивается введенный пароль и тот, что хранится в БД, при совпадении выдается новый токен, который сохраняется в базе токенов и в cookie.
  
Использованные технологии:
- gopkg.in/mgo.v2 - для работы с MongoDB;
- golang.org/x/crypto/bcrypt - для шифрования паролей пользователей;
- github.com/gorilla/mux - как альтернатива mux из пакета net/http;
- остальные библиотеки входят в стандартный пакет Golang.
